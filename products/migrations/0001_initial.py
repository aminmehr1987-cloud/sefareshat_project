# Generated by Django 4.2.11 on 2025-08-26 09:53

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import django_jalali.db.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('contenttypes', '0002_remove_content_type_name'),
    ]

    operations = [
        migrations.CreateModel(
            name='Account',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='کد حساب')),
                ('name', models.CharField(max_length=200, verbose_name='نام حساب')),
                ('level', models.CharField(choices=[('KOL', 'کل'), ('MOEIN', 'معین'), ('TAFSILI', 'تفصیلی')], max_length=10, verbose_name='سطح حساب')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('opening_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی اولیه')),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی فعلی')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
            ],
            options={
                'verbose_name': 'حساب',
                'verbose_name_plural': 'حساب\u200cها',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='AccountingReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('report_type', models.CharField(choices=[('daily', 'گزارش روزانه'), ('weekly', 'گزارش هفتگی'), ('monthly', 'گزارش ماهانه'), ('yearly', 'گزارش سالانه'), ('custom', 'گزارش دلخواه')], max_length=20, verbose_name='نوع گزارش')),
                ('start_date', django_jalali.db.models.jDateField(verbose_name='تاریخ شروع')),
                ('end_date', django_jalali.db.models.jDateField(verbose_name='تاریخ پایان')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('total_sales', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع فروش')),
                ('total_sales_count', models.PositiveIntegerField(default=0, verbose_name='تعداد فاکتورهای فروش')),
                ('total_purchases', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع خرید')),
                ('total_purchases_count', models.PositiveIntegerField(default=0, verbose_name='تعداد فاکتورهای خرید')),
                ('total_cash_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تسویه نقدی')),
                ('total_card_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تسویه کارت')),
                ('total_bank_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تسویه بانکی')),
                ('total_cheque_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تسویه چک')),
                ('total_customer_balance', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع مانده حساب مشتریان')),
                ('total_supplier_balance', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع مانده حساب تامین\u200cکنندگان')),
                ('total_profit', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع سود')),
                ('average_profit_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='میانگین درصد سود')),
                ('total_discounts', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تخفیفات')),
                ('total_extra_discounts', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع تخفیفات مازاد')),
                ('total_transactions', models.PositiveIntegerField(default=0, verbose_name='تعداد کل تراکنش\u200cها')),
                ('total_debit', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع بدهکار')),
                ('total_credit', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع بستانکار')),
                ('net_balance', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مانده خالص')),
                ('total_debtors', models.PositiveIntegerField(default=0, verbose_name='تعداد بدهکاران')),
                ('total_creditors', models.PositiveIntegerField(default=0, verbose_name='تعداد بستانکاران')),
                ('total_debtors_amount', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع مبلغ بدهکاران')),
                ('total_creditors_amount', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع مبلغ بستانکاران')),
                ('highest_debtor_amount', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='بیشترین مبلغ بدهکار')),
                ('highest_creditor_amount', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='بیشترین مبلغ بستانکار')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
            ],
            options={
                'verbose_name': 'گزارش حسابداری',
                'verbose_name_plural': 'گزارشات حسابداری',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Bank',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام بانک')),
                ('code', models.CharField(choices=[('001', 'بانک مرکزی جمهوری اسلامی ایران'), ('010', 'بانک ملی ایران'), ('011', 'بانک سپه'), ('012', 'بانک صادرات ایران'), ('013', 'بانک کشاورزی'), ('014', 'بانک مسکن'), ('015', 'بانک صنعت و معدن'), ('016', 'بانک توسعه صادرات ایران'), ('017', 'بانک توسعه تعاون'), ('018', 'بانک تجارت'), ('019', 'بانک ملت'), ('020', 'بانک رفاه کارگران'), ('021', 'بانک پست بانک ایران'), ('022', 'بانک پارسیان'), ('023', 'بانک اقتصاد نوین'), ('024', 'بانک سینا'), ('025', 'بانک سرمایه'), ('026', 'بانک سامان'), ('027', 'بانک پاسارگاد'), ('028', 'بانک کارآفرین'), ('029', 'بانک شهر'), ('030', 'بانک دی'), ('031', 'بانک انصار'), ('033', 'بانک آینده'), ('034', 'بانک گردشگری'), ('035', 'بانک ایران زمین'), ('036', 'بانک قوامین'), ('037', 'بانک خاورمیانه'), ('038', 'بانک کوثر'), ('039', 'بانک مهر اقتصاد'), ('040', 'بانک حکمت ایرانیان'), ('041', 'بانک کارگزاران'), ('042', 'بانک رسالت'), ('043', 'بانک قرض\u200cالحسنه مهر ایران'), ('044', 'بانک قرض\u200cالحسنه رسالت'), ('045', 'بانک قرض\u200cالحسنه قوامین'), ('047', 'بانک قرض\u200cالحسنه امام رضا'), ('048', 'بانک قرض\u200cالحسنه نور'), ('049', 'بانک قرض\u200cالحسنه ولیعصر'), ('050', 'بانک قرض\u200cالحسنه عسکریه'), ('051', 'بانک قرض\u200cالحسنه انصار'), ('052', 'بانک قرض\u200cالحسنه رسالت'), ('054', 'بانک قرض\u200cالحسنه قوامین'), ('055', 'بانک قرض\u200cالحسنه امام رضا'), ('056', 'بانک قرض\u200cالحسنه نور'), ('057', 'بانک قرض\u200cالحسنه ولیعصر'), ('058', 'بانک قرض\u200cالحسنه عسکریه'), ('059', 'بانک قرض\u200cالحسنه انصار'), ('060', 'بانک قرض\u200cالحسنه رسالت'), ('062', 'بانک قرض\u200cالحسنه قوامین'), ('063', 'بانک قرض\u200cالحسنه امام رضا'), ('064', 'بانک قرض\u200cالحسنه نور'), ('065', 'بانک قرض\u200cالحسنه ولیعصر'), ('066', 'بانک قرض\u200cالحسنه عسکریه'), ('067', 'بانک قرض\u200cالحسنه انصار'), ('068', 'بانک قرض\u200cالحسنه رسالت'), ('070', 'بانک قرض\u200cالحسنه قوامین'), ('071', 'بانک قرض\u200cالحسنه امام رضا'), ('072', 'بانک قرض\u200cالحسنه نور'), ('073', 'بانک قرض\u200cالحسنه ولیعصر'), ('074', 'بانک قرض\u200cالحسنه عسکریه'), ('075', 'بانک قرض\u200cالحسنه انصار'), ('076', 'بانک قرض\u200cالحسنه رسالت'), ('078', 'بانک قرض\u200cالحسنه قوامین'), ('079', 'بانک قرض\u200cالحسنه امام رضا'), ('080', 'بانک قرض\u200cالحسنه نور'), ('081', 'بانک قرض\u200cالحسنه ولیعصر'), ('082', 'بانک قرض\u200cالحسنه عسکریه'), ('083', 'بانک قرض\u200cالحسنه انصار'), ('084', 'بانک قرض\u200cالحسنه رسالت'), ('086', 'بانک قرض\u200cالحسنه قوامین'), ('087', 'بانک قرض\u200cالحسنه امام رضا'), ('088', 'بانک قرض\u200cالحسنه نور'), ('089', 'بانک قرض\u200cالحسنه ولیعصر'), ('090', 'بانک قرض\u200cالحسنه عسکریه'), ('091', 'بانک قرض\u200cالحسنه انصار'), ('092', 'بانک قرض\u200cالحسنه رسالت'), ('094', 'بانک قرض\u200cالحسنه قوامین'), ('095', 'بانک قرض\u200cالحسنه امام رضا'), ('096', 'بانک قرض\u200cالحسنه نور'), ('097', 'بانک قرض\u200cالحسنه ولیعصر'), ('098', 'بانک قرض\u200cالحسنه عسکریه'), ('099', 'بانک قرض\u200cالحسنه انصار')], max_length=20, unique=True, verbose_name='کد بانک')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('website', models.URLField(blank=True, null=True, verbose_name='وب\u200cسایت')),
                ('phone', models.CharField(blank=True, max_length=20, null=True, verbose_name='تلفن')),
                ('address', models.TextField(blank=True, null=True, verbose_name='آدرس')),
            ],
            options={
                'verbose_name': 'بانک',
                'verbose_name_plural': 'بانک\u200cها',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='BankAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('account_number', models.CharField(max_length=50, verbose_name='شماره حساب')),
                ('sheba', models.CharField(max_length=26, unique=True, verbose_name='شماره شبا')),
                ('card_number', models.CharField(blank=True, help_text='شماره کارت باید دقیقاً 16 رقم باشد', max_length=25, null=True, verbose_name='شماره کارت')),
                ('has_card_reader', models.BooleanField(default=False, verbose_name='دارای کارت\u200cخوان')),
                ('account_type', models.CharField(choices=[('CHECKING', 'جاری'), ('SAVINGS', 'پس\u200cانداز'), ('CURRENT', 'قرض\u200cالحسنه جاری'), ('SAVING_QARZ', 'قرض\u200cالحسنه پس\u200cانداز')], max_length=20, verbose_name='نوع حساب')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان حساب')),
                ('initial_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی اولیه')),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی فعلی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('account', models.OneToOneField(on_delete=django.db.models.deletion.PROTECT, to='products.account', verbose_name='حساب مرتبط')),
                ('bank', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.bank', verbose_name='بانک')),
            ],
            options={
                'verbose_name': 'حساب بانکی',
                'verbose_name_plural': 'حساب\u200cهای بانکی',
            },
        ),
        migrations.CreateModel(
            name='CardReaderDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام دستگاه')),
                ('device_type', models.CharField(choices=[('POS', 'دستگاه POS'), ('PINPAD', 'دستگاه PINPAD'), ('MOBILE', 'دستگاه موبایل'), ('TABLET', 'دستگاه تبلت'), ('OTHER', 'سایر')], max_length=20, verbose_name='نوع دستگاه')),
                ('terminal_number', models.CharField(max_length=50, unique=True, verbose_name='شماره پایانه')),
                ('serial_number', models.CharField(blank=True, max_length=100, null=True, verbose_name='شماره سریال')),
                ('manufacturer', models.CharField(blank=True, max_length=100, null=True, verbose_name='سازنده')),
                ('model', models.CharField(blank=True, max_length=100, null=True, verbose_name='مدل')),
                ('support_company', models.CharField(blank=True, max_length=100, null=True, verbose_name='شرکت پشتیبان')),
                ('support_phone', models.CharField(blank=True, max_length=20, null=True, verbose_name='شماره تماس پشتیبان')),
                ('support_email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='ایمیل پشتیبان')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='products.bankaccount', verbose_name='حساب بانکی مرتبط')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
            ],
            options={
                'verbose_name': 'دستگاه کارت\u200cخوان',
                'verbose_name_plural': 'دستگاه\u200cهای کارت\u200cخوان',
                'ordering': ['name', 'terminal_number'],
            },
        ),
        migrations.CreateModel(
            name='County',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام شهرستان')),
            ],
            options={
                'verbose_name': 'شهرستان',
                'verbose_name_plural': 'شهرستان\u200cها',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Currency',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=3, unique=True, verbose_name='کد ارز')),
                ('name', models.CharField(max_length=50, verbose_name='نام ارز')),
                ('symbol', models.CharField(max_length=5, verbose_name='نماد')),
                ('is_default', models.BooleanField(default=False, verbose_name='ارز پیش\u200cفرض')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('exchange_rate', models.DecimalField(decimal_places=6, default=1.0, max_digits=18, verbose_name='نرخ تبدیل به ارز پیش\u200cفرض')),
            ],
            options={
                'verbose_name': 'ارز',
                'verbose_name_plural': 'ارزها',
            },
        ),
        migrations.CreateModel(
            name='Customer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(max_length=100, verbose_name='نام')),
                ('last_name', models.CharField(max_length=100, verbose_name='نام خانوادگی')),
                ('store_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='نام فروشگاه')),
                ('phone', models.CharField(blank=True, max_length=20, null=True, verbose_name='تلفن ثابت')),
                ('mobile', models.CharField(error_messages={'unique': 'مشتری دیگری با این شماره همراه قبلاً ثبت شده است.'}, max_length=20, unique=True, verbose_name='شماره موبایل')),
                ('address', models.TextField(blank=True, null=True, verbose_name='آدرس')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('county', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.county', verbose_name='شهرستان')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_customers', to=settings.AUTH_USER_MODEL, verbose_name='ایجاد شده توسط')),
            ],
            options={
                'verbose_name': 'مشتری',
                'verbose_name_plural': 'مشتریان',
            },
        ),
        migrations.CreateModel(
            name='FinancialOperation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('operation_type', models.CharField(choices=[('RECEIVE_FROM_CUSTOMER', 'دریافت از مشتری'), ('PAY_TO_CUSTOMER', 'پرداخت به مشتری'), ('RECEIVE_FROM_BANK', 'دریافت از بانک'), ('PAY_TO_BANK', 'پرداخت به بانک'), ('BANK_TRANSFER', 'حواله بانکی'), ('CASH_WITHDRAWAL', 'برداشت نقدی از بانک'), ('PAYMENT_TO_CASH', 'پرداخت به صندوق'), ('PAYMENT_FROM_CASH', 'پرداخت از صندوق'), ('CAPITAL_INVESTMENT', 'سرمایه گذاری'), ('PETTY_CASH', 'تنخواه'), ('DEPOSIT_TO_BANK', 'واگذاری چک به بانک'), ('CHECK_RESET_FROM_CLEARED', 'بازگشت چک وصول شده به حالت اولیه'), ('CHECK_RESET_FROM_BOUNCED', 'بازگشت چک برگشت خورده به حالت اولیه'), ('CHECK_RESET_FROM_ISSUED', 'بازگشت چک صادر شده به حالت اولیه'), ('CHECK_BOUNCE', 'برگشت چک دریافتی'), ('ISSUED_CHECK_BOUNCE', 'برگشت چک صادر شده'), ('SPENT_CHEQUE_RETURN', 'برگشت چک خرجی'), ('PURCHASE_INVOICE', 'فاکتور خرید'), ('SALES_INVOICE', 'فاکتور فروش')], max_length=50, verbose_name='نوع عملیات')),
                ('operation_number', models.CharField(max_length=50, unique=True, verbose_name='شماره عملیات')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ عملیات')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('status', models.CharField(choices=[('DRAFT', 'پیش\u200cنویس'), ('CONFIRMED', 'تأیید شده'), ('CANCELLED', 'باطل شده')], default='DRAFT', max_length=20, verbose_name='وضعیت')),
                ('bank_name', models.CharField(blank=True, max_length=100, verbose_name='نام بانک')),
                ('account_number', models.CharField(blank=True, max_length=50, verbose_name='شماره حساب')),
                ('payment_method', models.CharField(choices=[('cash', 'نقدی'), ('bank_transfer', 'حواله بانکی'), ('cheque', 'چک'), ('spend_cheque', 'خرج چک'), ('mixed_cheque', 'ترکیب چک\u200cها'), ('pos', 'دستگاه POS'), ('cheque_return', 'چک برگشتی'), ('bounced_cheque_return', 'برگشت چک برگشتی'), ('cheque_bounce', 'برگشت چک دریافتی')], max_length=30, verbose_name='روش پرداخت')),
                ('reference_number', models.CharField(blank=True, max_length=100, verbose_name='شماره مرجع')),
                ('cheque_number', models.CharField(blank=True, max_length=50, verbose_name='شماره چک')),
                ('cheque_date', django_jalali.db.models.jDateField(blank=True, null=True, verbose_name='تاریخ چک')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
                ('confirmed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تأیید')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='حذف شده')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ حذف')),
                ('is_modified', models.BooleanField(default=False, verbose_name='اصلاح شده')),
                ('modified_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ اصلاح')),
                ('bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.bankaccount', verbose_name='حساب بانکی')),
                ('card_reader_device', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='products.cardreaderdevice', verbose_name='دستگاه کارت\u200cخوان')),
                ('confirmed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='confirmed_operations', to=settings.AUTH_USER_MODEL, verbose_name='تأیید کننده')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('customer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='مشتری')),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_operations', to=settings.AUTH_USER_MODEL, verbose_name='حذف کننده')),
            ],
            options={
                'verbose_name': 'عملیات مالی',
                'verbose_name_plural': 'عملیات مالی',
            },
        ),
        migrations.CreateModel(
            name='FinancialYear',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year', models.CharField(max_length=4, unique=True, verbose_name='سال مالی')),
                ('start_date', django_jalali.db.models.jDateField(verbose_name='تاریخ شروع')),
                ('end_date', django_jalali.db.models.jDateField(verbose_name='تاریخ پایان')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('is_closed', models.BooleanField(default=False, verbose_name='بسته شده')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'سال مالی',
                'verbose_name_plural': 'سال\u200cهای مالی',
            },
        ),
        migrations.CreateModel(
            name='Fund',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام صندوق')),
                ('fund_type', models.CharField(choices=[('CASH', 'صندوق نقدی'), ('BANK', 'حساب بانکی'), ('PETTY_CASH', 'تنخواه')], max_length=20, verbose_name='نوع صندوق')),
                ('initial_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی اولیه')),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی فعلی')),
                ('bank_name', models.CharField(blank=True, max_length=100, verbose_name='نام بانک')),
                ('account_number', models.CharField(blank=True, max_length=50, verbose_name='شماره حساب')),
                ('sheba_number', models.CharField(blank=True, max_length=26, verbose_name='شماره شبا')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
            ],
            options={
                'verbose_name': 'صندوق',
                'verbose_name_plural': 'صندوق\u200cها',
                'ordering': ['fund_type', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Order',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order_number', models.CharField(blank=True, max_length=100, null=True, unique=True, verbose_name='شماره درخواست')),
                ('document_number', models.CharField(blank=True, max_length=100, null=True, verbose_name='شماره سند')),
                ('package_count', models.PositiveIntegerField(blank=True, default=0, null=True, verbose_name='تعداد بسته')),
                ('courier_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='نام پیک')),
                ('visitor_name', models.CharField(max_length=100, verbose_name='نام ویزیتور')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ثبت')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ به\u200cروزرسانی')),
                ('payment_term', models.CharField(choices=[('cash', 'نقدی'), ('1m', '1 ماهه'), ('2m', '2 ماهه'), ('3m', '3 ماهه'), ('4m', '4 ماهه')], max_length=10, verbose_name='شرایط تسویه')),
                ('status', models.CharField(choices=[('cart', 'سبد خرید'), ('pending', 'در انتظار تأیید'), ('warehouse', 'ارسال شده به انبار'), ('ready', 'آماده تحویل'), ('delivered', 'تحویل داده شده'), ('parent', 'تفکیک شده به انبارها'), ('completed', 'نهایی شده'), ('backorder', 'در انتظار موجودی'), ('waiting_for_customer_shipment', 'در انتظار ارسال به مشتری'), ('sent_to_warehouse', ' ارسال شده به انبار از بک اوردر'), ('waiting_for_warehouse_confirmation', 'در انتظار تایید انباردار')], default='pending', max_length=100, verbose_name='وضعیت سفارش')),
                ('is_sub_order', models.BooleanField(default=False, verbose_name='آیا زیرسفارش است؟ (قدیمی)')),
                ('total_price', models.DecimalField(decimal_places=0, default=0, max_digits=100, verbose_name='جمع کل سفارش')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='مشتری')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='products.order', verbose_name='سفارش مادر (قدیمی)')),
                ('parent_order', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sub_orders', to='products.order', verbose_name='سفارش والد (جدید)')),
            ],
        ),
        migrations.CreateModel(
            name='OrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('requested_quantity', models.IntegerField(blank=True, null=True, verbose_name='تعداد درخواستی')),
                ('allocated_quantity', models.IntegerField(default=0, verbose_name='تعداد تخصیص یافته')),
                ('price', models.DecimalField(blank=True, decimal_places=0, max_digits=50, null=True, verbose_name='قیمت')),
                ('payment_term', models.CharField(choices=[('cash', 'نقدی'), ('1m', '1 ماهه'), ('2m', '2 ماهه'), ('3m', '3 ماهه'), ('4m', '4 ماهه')], default='cash', max_length=50, verbose_name='شرایط پرداخت')),
                ('warehouse_status', models.CharField(choices=[('pending', 'در انتظار تایید انبار'), ('confirmed', 'تایید شده توسط انبار'), ('ready', 'آماده ارسال'), ('out_of_stock', 'ناموجود'), ('backorder', 'در انتظار موجودی'), ('pending_supply', 'در انتظار تامین موجودی'), ('waiting_for_warehouse_confirmation', 'در انتظار تایید انباردار')], default='pending', max_length=100, verbose_name='وضعیت انبار')),
                ('warehouse_note', models.TextField(blank=True, null=True, verbose_name='یادداشت انبار')),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.order', verbose_name='سفارش')),
            ],
            options={
                'verbose_name': 'آیتم سفارش',
                'verbose_name_plural': 'آیتم\u200cهای سفارش',
            },
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('brand', models.CharField(blank=True, max_length=100, verbose_name='برند')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='کد کالا')),
                ('name', models.CharField(max_length=200, verbose_name='نام کالا')),
                ('car_group', models.CharField(default='عمومی', max_length=100, verbose_name='گروه خودرو')),
                ('price', models.DecimalField(decimal_places=0, max_digits=100, verbose_name='قیمت')),
                ('purchase_price', models.DecimalField(decimal_places=0, default=0, max_digits=100, verbose_name='قیمت خرید')),
                ('quantity', models.PositiveIntegerField(default=0, verbose_name='موجودی')),
                ('image', models.ImageField(blank=True, null=True, upload_to='product_images/', verbose_name='تصویر کالا')),
                ('max_payment_term', models.CharField(blank=True, choices=[('cash', 'نقدی'), ('1m', '1 ماهه'), ('2m', '2 ماهه'), ('3m', '3 ماهه'), ('4m', '4 ماهه')], max_length=10, null=True, verbose_name='حداکثر مهلت تسویه')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now, verbose_name='تاریخ ایجاد')),
                ('normalized_name', models.CharField(blank=True, db_index=True, max_length=255)),
                ('profit_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='درصد سود')),
            ],
        ),
        migrations.CreateModel(
            name='Province',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='نام استان')),
            ],
            options={
                'verbose_name': 'استان',
                'verbose_name_plural': 'استان\u200cها',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invoice_number', models.CharField(max_length=100, unique=True, verbose_name='شماره فاکتور')),
                ('invoice_date', django_jalali.db.models.jDateField(verbose_name='تاریخ فاکتور')),
                ('total_amount', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='جمع کل فاکتور')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('status', models.CharField(choices=[('draft', 'پیش\u200cنویس'), ('registered', 'ثبت شده'), ('confirmed', 'تایید شده'), ('cancelled', 'باطل شده')], default='registered', max_length=20, verbose_name='وضعیت')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ثبت')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
                ('settle_cash', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه نقدی')),
                ('settle_card', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه کارتخوان')),
                ('settle_bank', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه بانکی')),
                ('settle_cheque', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه چک')),
                ('settle_balance', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='مانده حساب')),
                ('settle_extra_discount', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تخفیف مازاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ثبت\u200cکننده')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='طرف حساب')),
            ],
            options={
                'verbose_name': 'فاکتور خرید',
                'verbose_name_plural': 'فاکتورهای خرید',
                'ordering': ['-invoice_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ReceivedCheque',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('endorsement', models.CharField(blank=True, max_length=255, null=True, verbose_name='پشت نمره')),
                ('due_date', models.DateField(verbose_name='تاریخ سررسید')),
                ('bank_name', models.CharField(max_length=100, verbose_name='نام بانک')),
                ('branch_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='نام شعبه')),
                ('series', models.CharField(blank=True, max_length=50, null=True, verbose_name='سری چک')),
                ('serial', models.CharField(blank=True, max_length=50, null=True, verbose_name='سریال چک')),
                ('sayadi_id', models.CharField(max_length=16, unique=True, verbose_name='شناسه صیادی')),
                ('amount', models.DecimalField(decimal_places=0, max_digits=15, verbose_name='مبلغ')),
                ('owner_name', models.CharField(max_length=255, verbose_name='صاحب حساب')),
                ('national_id', models.CharField(blank=True, max_length=10, null=True, verbose_name='کدملی صاحب حساب')),
                ('account_number', models.CharField(max_length=50, verbose_name='شماره حساب')),
                ('status', models.CharField(choices=[('RECEIVED', 'دریافت شده'), ('DEPOSITED', 'واگذار به بانک'), ('CLEARED', 'وصول شده'), ('MANUALLY_CLEARED', 'وصول به صورت دستی'), ('SPENT', 'خرج شده'), ('BOUNCED', 'برگشت خورده'), ('RETURNED', 'مسترد شده')], default='RECEIVED', max_length=20, verbose_name='وضعیت')),
                ('recipient_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='نام دریافت\u200cکننده (در صورت خرج چک)')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('cleared_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ وصول')),
                ('bounced_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ برگشت')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='حذف شده')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ حذف')),
                ('bounced_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bounced_received_cheques', to=settings.AUTH_USER_MODEL, verbose_name='برگشت دهنده')),
                ('cleared_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cleared_received_cheques', to=settings.AUTH_USER_MODEL, verbose_name='وصول کننده')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_received_cheques', to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='received_cheques', to='products.customer', verbose_name='مشتری')),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_received_cheques', to=settings.AUTH_USER_MODEL, verbose_name='حذف کننده')),
                ('deposited_bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deposited_checks', to='products.bankaccount', verbose_name='حساب بانکی واگذار شده')),
                ('financial_operation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='received_cheques', to='products.financialoperation', verbose_name='عملیات مالی')),
                ('recipient_customer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='received_cheques_as_recipient', to='products.customer', verbose_name='مشتری گیرنده چک')),
            ],
            options={
                'verbose_name': 'چک دریافتی',
                'verbose_name_plural': 'چک\u200cهای دریافتی',
                'ordering': ['-due_date', '-cleared_at', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SalesInvoice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('invoice_number', models.CharField(max_length=100, unique=True, verbose_name='شماره فاکتور')),
                ('invoice_date', django_jalali.db.models.jDateField(verbose_name='تاریخ فاکتور')),
                ('total_amount', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='جمع کل فاکتور')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('status', models.CharField(choices=[('draft', 'پیش\u200cنویس'), ('registered', 'ثبت شده'), ('confirmed', 'تایید شده'), ('cancelled', 'باطل شده')], default='registered', max_length=20, verbose_name='وضعیت')),
                ('created_at', django_jalali.db.models.jDateTimeField(auto_now_add=True, verbose_name='تاریخ ثبت')),
                ('updated_at', django_jalali.db.models.jDateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
                ('settle_cash', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه نقدی')),
                ('settle_card', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه کارتخوان')),
                ('settle_bank', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه بانکی')),
                ('settle_cheque', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تسویه چک')),
                ('settle_balance', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='مانده حساب')),
                ('settle_extra_discount', models.DecimalField(decimal_places=0, default=0, max_digits=18, verbose_name='تخفیف مازاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ثبت\u200cکننده')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='طرف حساب')),
            ],
            options={
                'verbose_name': 'فاکتور فروش',
                'verbose_name_plural': 'فاکتورهای فروش',
                'ordering': ['-invoice_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Shipment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('shipment_number', models.CharField(max_length=50, unique=True, verbose_name='شماره ارسال')),
                ('shipment_date', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ارسال')),
                ('courier_name', models.CharField(max_length=100, verbose_name='نام پیک')),
                ('is_backorder', models.BooleanField(default=False, verbose_name='ارسال بک\u200cاوردر')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('status', models.CharField(choices=[('pending', 'در انتظار'), ('in_transit', 'در حال ارسال'), ('delivered', 'تحویل داده شده')], default='pending', max_length=50, verbose_name='وضعیت ارسال')),
            ],
            options={
                'verbose_name': 'ارسال',
                'verbose_name_plural': 'ارسال\u200cها',
                'ordering': ['-shipment_date'],
            },
        ),
        migrations.CreateModel(
            name='Voucher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('number', models.CharField(max_length=20, verbose_name='شماره سند')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ سند')),
                ('type', models.CharField(choices=[('TEMPORARY', 'موقت'), ('PERMANENT', 'دائم')], default='TEMPORARY', max_length=20, verbose_name='نوع سند')),
                ('description', models.TextField(verbose_name='شرح سند')),
                ('is_confirmed', models.BooleanField(default=False, verbose_name='تأیید شده')),
                ('confirmed_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ تأیید')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('confirmed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='confirmed_vouchers', to=settings.AUTH_USER_MODEL, verbose_name='تأیید کننده')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='created_vouchers', to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('financial_year', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.financialyear', verbose_name='سال مالی')),
            ],
            options={
                'verbose_name': 'سند حسابداری',
                'verbose_name_plural': 'اسناد حسابداری',
                'unique_together': {('financial_year', 'number')},
            },
        ),
        migrations.CreateModel(
            name='Warehouse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='نام انبار')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='warehouse', to=settings.AUTH_USER_MODEL, verbose_name='کاربر انباردار')),
            ],
        ),
        migrations.CreateModel(
            name='VoucherItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('description', models.CharField(max_length=500, verbose_name='شرح')),
                ('debit', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='بدهکار')),
                ('credit', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='بستانکار')),
                ('reference_id', models.CharField(blank=True, max_length=100, verbose_name='شناسه مرجع')),
                ('reference_type', models.CharField(blank=True, max_length=50, verbose_name='نوع مرجع')),
                ('account', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.account', verbose_name='حساب')),
                ('voucher', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.voucher', verbose_name='سند')),
            ],
            options={
                'verbose_name': 'آرتیکل سند',
                'verbose_name_plural': 'آرتیکل\u200cهای سند',
            },
        ),
        migrations.CreateModel(
            name='ShipmentItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity_shipped', models.PositiveIntegerField(verbose_name='تعداد ارسال شده')),
                ('order_item', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.orderitem')),
                ('shipment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.shipment')),
            ],
            options={
                'verbose_name': 'قلم ارسالی',
                'verbose_name_plural': 'اقلام ارسالی',
                'unique_together': {('shipment', 'order_item')},
            },
        ),
        migrations.AddField(
            model_name='shipment',
            name='items',
            field=models.ManyToManyField(related_name='shipments', through='products.ShipmentItem', to='products.orderitem'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='order',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shipments', to='products.order', verbose_name='سفارش مرتبط'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='parent_order',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='parent_shipments', to='products.order', verbose_name='سفارش اصلی'),
        ),
        migrations.AddField(
            model_name='shipment',
            name='sub_orders',
            field=models.ManyToManyField(blank=True, related_name='included_in_shipments', to='products.order', verbose_name='زیرسفارش\u200cهای شامل شده'),
        ),
        migrations.CreateModel(
            name='SalesInvoiceItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(verbose_name='تعداد')),
                ('price', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='قیمت')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='درصد تخفیف')),
                ('profit_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='درصد سود')),
                ('total', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='مبلغ کل')),
                ('description', models.CharField(blank=True, max_length=255, null=True, verbose_name='توضیحات')),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.salesinvoice', verbose_name='فاکتور فروش')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.product', verbose_name='کالا')),
            ],
            options={
                'verbose_name': 'آیتم فاکتور فروش',
                'verbose_name_plural': 'آیتم\u200cهای فاکتور فروش',
            },
        ),
        migrations.CreateModel(
            name='ReceivedChequeAuditTrail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('operation', models.CharField(choices=[('CREATED', 'ایجاد چک'), ('STATUS_CHANGED', 'تغییر وضعیت'), ('CLEARED', 'وصول چک'), ('BOUNCED', 'برگشت چک'), ('DEPOSITED', 'واگذار به بانک'), ('SPENT', 'خرج چک'), ('RETURNED', 'مسترد چک'), ('MANUALLY_CLEARED', 'وصول دستی'), ('EDITED', 'ویرایش اطلاعات'), ('DELETED', 'حذف چک'), ('RESTORED', 'بازگردانی چک')], max_length=20, verbose_name='نوع عملیات')),
                ('operation_date', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ عملیات')),
                ('old_status', models.CharField(blank=True, choices=[('RECEIVED', 'دریافت شده'), ('DEPOSITED', 'واگذار به بانک'), ('CLEARED', 'وصول شده'), ('MANUALLY_CLEARED', 'وصول به صورت دستی'), ('SPENT', 'خرج شده'), ('BOUNCED', 'برگشت خورده'), ('RETURNED', 'مسترد شده')], max_length=20, null=True, verbose_name='وضعیت قبلی')),
                ('old_amount', models.DecimalField(blank=True, decimal_places=0, max_digits=15, null=True, verbose_name='مبلغ قبلی')),
                ('old_due_date', models.DateField(blank=True, null=True, verbose_name='تاریخ سررسید قبلی')),
                ('old_recipient_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='گیرنده قبلی')),
                ('new_status', models.CharField(blank=True, choices=[('RECEIVED', 'دریافت شده'), ('DEPOSITED', 'واگذار به بانک'), ('CLEARED', 'وصول شده'), ('MANUALLY_CLEARED', 'وصول به صورت دستی'), ('SPENT', 'خرج شده'), ('BOUNCED', 'برگشت خورده'), ('RETURNED', 'مسترد شده')], max_length=20, null=True, verbose_name='وضعیت جدید')),
                ('new_amount', models.DecimalField(blank=True, decimal_places=0, max_digits=15, null=True, verbose_name='مبلغ جدید')),
                ('new_due_date', models.DateField(blank=True, null=True, verbose_name='تاریخ سررسید جدید')),
                ('new_recipient_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='گیرنده جدید')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات عملیات')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='آدرس IP')),
                ('user_agent', models.TextField(blank=True, null=True, verbose_name='User Agent')),
                ('cheque', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='audit_trail', to='products.receivedcheque', verbose_name='چک دریافتی')),
                ('new_deposited_bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='new_deposited_checks_audit', to='products.bankaccount', verbose_name='حساب بانکی واگذار شده جدید')),
                ('old_deposited_bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='old_deposited_checks_audit', to='products.bankaccount', verbose_name='حساب بانکی واگذار شده قبلی')),
                ('performed_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='انجام دهنده')),
            ],
            options={
                'verbose_name': 'تاریخچه چک دریافتی',
                'verbose_name_plural': 'تاریخچه چک\u200cهای دریافتی',
                'ordering': ['-operation_date'],
            },
        ),
        migrations.CreateModel(
            name='Receipt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('payment_method', models.CharField(choices=[('cash', 'نقدی'), ('bank_transfer', 'حواله بانکی'), ('cheque', 'چک'), ('pos', 'دستگاه POS')], max_length=20, verbose_name='روش پرداخت')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='مشتری')),
            ],
            options={
                'verbose_name': 'رسید دریافت',
                'verbose_name_plural': 'رسیدهای دریافت',
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseInvoiceItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(verbose_name='تعداد')),
                ('price', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='قیمت')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='درصد تخفیف')),
                ('profit_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='درصد سود')),
                ('total', models.DecimalField(decimal_places=0, max_digits=18, verbose_name='مبلغ کل')),
                ('description', models.CharField(blank=True, max_length=255, null=True, verbose_name='توضیحات')),
                ('invoice', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='products.purchaseinvoice', verbose_name='فاکتور خرید')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.product', verbose_name='کالا')),
            ],
            options={
                'verbose_name': 'آیتم فاکتور خرید',
                'verbose_name_plural': 'آیتم\u200cهای فاکتور خرید',
            },
        ),
        migrations.AddField(
            model_name='product',
            name='warehouse',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.warehouse', verbose_name='انبار'),
        ),
        migrations.CreateModel(
            name='PriceChange',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('old_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قیمت قدیم')),
                ('new_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='قیمت جدید')),
                ('change_date', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ تغییر')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='price_changes', to='products.product', verbose_name='محصول')),
            ],
            options={
                'verbose_name': 'تغییر قیمت',
                'verbose_name_plural': 'تغییرات قیمت',
                'ordering': ['-change_date'],
            },
        ),
        migrations.CreateModel(
            name='PettyCashOperation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('operation_number', models.CharField(max_length=50, unique=True, verbose_name='شماره عملیات')),
                ('operation_type', models.CharField(choices=[('ADD', 'افزودن به تنخواه'), ('WITHDRAW', 'برداشت از تنخواه')], max_length=20, verbose_name='نوع عملیات')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('reason', models.CharField(choices=[('expense', 'هزینه روزانه'), ('emergency', 'اورژانس'), ('maintenance', 'نگهداری'), ('stationery', 'خرید لوازم التحریر'), ('transportation', 'هزینه حمل و نقل'), ('meals', 'هزینه غذا'), ('other', 'سایر')], max_length=100, verbose_name='دلیل عملیات')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('source_bank_account', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='petty_cash_source_operations', to='products.bankaccount', verbose_name='حساب بانکی منبع')),
                ('source_fund', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='petty_cash_source_operations', to='products.fund', verbose_name='صندوق منبع')),
            ],
            options={
                'verbose_name': 'عملیات تنخواه',
                'verbose_name_plural': 'عملیات تنخواه',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='OrderStatusHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('cart', 'سبد خرید'), ('pending', 'در انتظار تأیید'), ('warehouse', 'ارسال شده به انبار'), ('ready', 'آماده تحویل'), ('delivered', 'تحویل داده شده'), ('parent', 'تفکیک شده به انبارها'), ('completed', 'نهایی شده'), ('backorder', 'در انتظار موجودی'), ('waiting_for_customer_shipment', 'در انتظار ارسال به مشتری'), ('sent_to_warehouse', ' ارسال شده به انبار از بک اوردر'), ('waiting_for_warehouse_confirmation', 'در انتظار تایید انباردار')], max_length=50)),
                ('timestamp', models.DateTimeField(default=django.utils.timezone.now)),
                ('note', models.TextField(blank=True, null=True)),
                ('order', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='status_history', to='products.order')),
            ],
            options={
                'ordering': ['-timestamp'],
            },
        ),
        migrations.AddField(
            model_name='orderitem',
            name='product',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.product', verbose_name='محصول'),
        ),
        migrations.AddField(
            model_name='orderitem',
            name='warehouse',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='products.warehouse', verbose_name='انبار'),
        ),
        migrations.AddField(
            model_name='order',
            name='warehouse',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='orders', to='products.warehouse', verbose_name='انبار'),
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255, verbose_name='عنوان')),
                ('message', models.TextField(verbose_name='پیام')),
                ('read', models.BooleanField(default=False, verbose_name='خوانده شده؟')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('product_title', models.CharField(blank=True, max_length=255, null=True, verbose_name='نام کالا')),
                ('order_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='شماره سفارش')),
                ('customer_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='نام مشتری')),
                ('target_user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='کاربر هدف')),
            ],
        ),
        migrations.CreateModel(
            name='FundTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_type', models.CharField(choices=[('IN', 'ورودی'), ('OUT', 'خروجی')], max_length=10, verbose_name='نوع تراکنش')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('description', models.CharField(max_length=255, verbose_name='شرح')),
                ('date', django_jalali.db.models.jDateField(auto_now_add=True, verbose_name='تاریخ')),
                ('reference_id', models.CharField(blank=True, max_length=100, verbose_name='شناسه مرجع')),
                ('reference_type', models.CharField(blank=True, max_length=50, verbose_name='نوع مرجع')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('fund', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to='products.fund', verbose_name='صندوق')),
            ],
            options={
                'verbose_name': 'گردش صندوق',
                'verbose_name_plural': 'گردش صندوق\u200cها',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FundStatement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ')),
                ('operation_type', models.CharField(max_length=50, verbose_name='نوع عملیات')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('running_balance', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مانده پس از عملیات')),
                ('description', models.CharField(max_length=255, verbose_name='شرح')),
                ('reference_id', models.CharField(blank=True, max_length=100, verbose_name='شناسه مرجع')),
                ('reference_type', models.CharField(blank=True, max_length=50, verbose_name='نوع مرجع')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('fund', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='statements', to='products.fund', verbose_name='صندوق')),
            ],
            options={
                'verbose_name': 'صورتحساب صندوق',
                'verbose_name_plural': 'صورتحساب\u200cهای صندوق',
                'ordering': ['fund', 'date', 'created_at'],
            },
        ),
        migrations.CreateModel(
            name='FundBalanceHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ')),
                ('previous_balance', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='موجودی قبلی')),
                ('change_amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ تغییر')),
                ('new_balance', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='موجودی جدید')),
                ('description', models.CharField(max_length=255, verbose_name='شرح')),
                ('fund', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='balance_history', to='products.fund', verbose_name='صندوق')),
                ('operation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.financialoperation', verbose_name='عملیات مرتبط')),
            ],
            options={
                'verbose_name': 'تاریخچه موجودی صندوق',
                'verbose_name_plural': 'تاریخچه موجودی صندوق\u200cها',
                'ordering': ['-date', '-id'],
            },
        ),
        migrations.CreateModel(
            name='FinancialTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_type', models.CharField(choices=[('DEBIT', 'بدهکار'), ('CREDIT', 'بستانکار')], max_length=10, verbose_name='نوع تراکنش')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('description', models.CharField(max_length=255, verbose_name='شرح')),
                ('date', django_jalali.db.models.jDateField(verbose_name='تاریخ تراکنش')),
                ('fund', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.fund', verbose_name='صندوق')),
                ('operation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions', to='products.financialoperation', verbose_name='عملیات')),
            ],
            options={
                'verbose_name': 'تراکنش مالی',
                'verbose_name_plural': 'تراکنش\u200cهای مالی',
                'ordering': ['-date', '-id'],
            },
        ),
        migrations.AddField(
            model_name='financialoperation',
            name='fund',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.fund', verbose_name='صندوق مرتبط'),
        ),
        migrations.AddField(
            model_name='financialoperation',
            name='modified_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_operations', to=settings.AUTH_USER_MODEL, verbose_name='اصلاح کننده'),
        ),
        migrations.AddField(
            model_name='financialoperation',
            name='spent_cheques',
            field=models.ManyToManyField(blank=True, related_name='spending_operations', to='products.receivedcheque', verbose_name='چک\u200cهای خرج شده'),
        ),
        migrations.CreateModel(
            name='DocumentNumberSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('current_number', models.PositiveIntegerField(default=1, verbose_name='شماره سند فعلی')),
                ('next_number', models.PositiveIntegerField(default=1, verbose_name='شماره سند بعدی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ بروزرسانی')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='بروزرسانی کننده')),
            ],
            options={
                'verbose_name': 'تنظیمات شماره\u200cگذاری اسناد',
                'verbose_name_plural': 'تنظیمات شماره\u200cگذاری اسناد',
            },
        ),
        migrations.CreateModel(
            name='DocumentNumber',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('document_type', models.CharField(choices=[('SALES_INVOICE', 'فاکتور فروش'), ('PURCHASE_INVOICE', 'فاکتور خرید'), ('ORDER', 'سفارش'), ('SHIPMENT', 'حمل و نقل'), ('CHECK_ISSUED', 'چک صادر شده'), ('CHECK_RECEIVED', 'چک دریافتی'), ('FINANCIAL_OPERATION', 'عملیات مالی'), ('FUND_OPERATION', 'عملیات صندوق'), ('PETTY_CASH', 'تنخواه'), ('VOUCHER', 'سند حسابداری'), ('RECEIPT', 'رسید'), ('PAYMENT', 'پرداخت'), ('CUSTOMER_BALANCE', 'تراز مشتری'), ('BANK_TRANSACTION', 'تراکنش بانکی'), ('OTHER', 'سایر')], max_length=30, verbose_name='نوع سند')),
                ('object_id', models.PositiveIntegerField(verbose_name='شناسه شیء')),
                ('document_number', models.PositiveIntegerField(unique=True, verbose_name='شماره سند')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('is_deleted', models.BooleanField(default=False, verbose_name='حذف شده')),
                ('deleted_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ حذف')),
                ('content_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype', verbose_name='نوع محتوا')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_documents', to=settings.AUTH_USER_MODEL, verbose_name='حذف کننده')),
            ],
            options={
                'verbose_name': 'شماره سند',
                'verbose_name_plural': 'شماره\u200cهای اسناد',
                'ordering': ['-document_number'],
            },
        ),
        migrations.CreateModel(
            name='CustomerBalance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی فعلی')),
                ('total_received', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='مجموع دریافتی')),
                ('total_paid', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='مجموع پرداختی')),
                ('last_transaction_date', django_jalali.db.models.jDateField(blank=True, null=True, verbose_name='تاریخ آخرین تراکنش')),
                ('customer', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='products.customer', verbose_name='مشتری')),
            ],
            options={
                'verbose_name': 'موجودی مشتری',
                'verbose_name_plural': 'موجودی مشتریان',
            },
        ),
        migrations.AddField(
            model_name='customer',
            name='province',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.province', verbose_name='استان'),
        ),
        migrations.AddField(
            model_name='customer',
            name='user',
            field=models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='customer_profile', to=settings.AUTH_USER_MODEL, verbose_name='کاربر مرتبط'),
        ),
        migrations.AddField(
            model_name='county',
            name='province',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='counties', to='products.province', verbose_name='استان'),
        ),
        migrations.CreateModel(
            name='CheckBook',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('serial', models.CharField(max_length=50, unique=True, verbose_name='سریال دسته چک')),
                ('start_number', models.IntegerField(verbose_name='شماره شروع')),
                ('end_number', models.IntegerField(verbose_name='شماره پایان')),
                ('current_number', models.IntegerField(verbose_name='شماره فعلی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('bank_account', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='checkbooks', to='products.bankaccount', verbose_name='حساب بانکی')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
            ],
            options={
                'verbose_name': 'دسته چک',
                'verbose_name_plural': 'دسته چک\u200cها',
            },
        ),
        migrations.CreateModel(
            name='Check',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('number', models.CharField(max_length=50, verbose_name='شماره/سریال چک')),
                ('series', models.CharField(blank=True, max_length=50, null=True, verbose_name='سری چک')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=18, verbose_name='مبلغ')),
                ('date', django_jalali.db.models.jDateField(blank=True, null=True, verbose_name='تاریخ سررسید')),
                ('status', models.CharField(choices=[('UNUSED', 'استفاده نشده'), ('ISSUED', 'صادر شده'), ('RECEIVED', 'دریافت شده'), ('DEPOSITED', 'واگذار شده'), ('CLEARED', 'وصول شده'), ('BOUNCED', 'برگشت خورده'), ('VOID', 'باطل شده')], default='UNUSED', max_length=20, verbose_name='وضعیت')),
                ('payee', models.CharField(blank=True, max_length=200, null=True, verbose_name='در وجه')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('bank_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='نام بانک')),
                ('bank_branch', models.CharField(blank=True, max_length=100, null=True, verbose_name='شعبه بانک')),
                ('account_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='شماره حساب')),
                ('owner_name', models.CharField(blank=True, max_length=200, null=True, verbose_name='نام صاحب حساب')),
                ('owner_national_id', models.CharField(blank=True, max_length=10, null=True, verbose_name='کدملی صاحب حساب')),
                ('sayadi_id', models.CharField(blank=True, max_length=16, null=True, verbose_name='شناسه صیادی')),
                ('endorsement', models.CharField(blank=True, max_length=255, null=True, verbose_name='پشت نمره')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('cleared_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ وصول')),
                ('bounced_at', models.DateTimeField(blank=True, null=True, verbose_name='تاریخ برگشت')),
                ('bounced_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bounced_issued_checks', to=settings.AUTH_USER_MODEL, verbose_name='برگشت دهنده')),
                ('checkbook', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.checkbook', verbose_name='دسته چک (برای چک\u200cهای پرداختی)')),
                ('cleared_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cleared_issued_checks', to=settings.AUTH_USER_MODEL, verbose_name='وصول کننده')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
                ('financial_operation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='issued_checks', to='products.financialoperation', verbose_name='عملیات مالی صدور')),
            ],
            options={
                'verbose_name': 'چک',
                'verbose_name_plural': 'چک\u200cها',
                'ordering': ['-date', '-cleared_at', '-bounced_at', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CashRegister',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='عنوان صندوق')),
                ('initial_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی اولیه')),
                ('current_balance', models.DecimalField(decimal_places=2, default=0, max_digits=18, verbose_name='موجودی فعلی')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('description', models.TextField(blank=True, verbose_name='توضیحات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('account', models.OneToOneField(on_delete=django.db.models.deletion.PROTECT, to='products.account', verbose_name='حساب مرتبط')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده')),
            ],
            options={
                'verbose_name': 'صندوق نقدی قدیمی',
                'verbose_name_plural': 'صندوق\u200cهای نقدی قدیمی',
            },
        ),
        migrations.AddField(
            model_name='bankaccount',
            name='card_reader_device_1',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bank_accounts_1', to='products.cardreaderdevice', verbose_name='دستگاه کارت\u200cخوان 1'),
        ),
        migrations.AddField(
            model_name='bankaccount',
            name='card_reader_device_2',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bank_accounts_2', to='products.cardreaderdevice', verbose_name='دستگاه کارت\u200cخوان 2'),
        ),
        migrations.AddField(
            model_name='bankaccount',
            name='card_reader_device_3',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bank_accounts_3', to='products.cardreaderdevice', verbose_name='دستگاه کارت\u200cخوان 3'),
        ),
        migrations.AddField(
            model_name='bankaccount',
            name='card_reader_device_4',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='bank_accounts_4', to='products.cardreaderdevice', verbose_name='دستگاه کارت\u200cخوان 4'),
        ),
        migrations.AddField(
            model_name='bankaccount',
            name='created_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL, verbose_name='ایجاد کننده'),
        ),
        migrations.CreateModel(
            name='AccountingReportDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_type', models.CharField(choices=[('debtor', 'بدهکار'), ('creditor', 'بستانکار')], max_length=10, verbose_name='نوع تراکنش')),
                ('total_sales', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع فروش')),
                ('total_purchases', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مجموع خرید')),
                ('sales_count', models.PositiveIntegerField(default=0, verbose_name='تعداد فاکتورهای فروش')),
                ('purchases_count', models.PositiveIntegerField(default=0, verbose_name='تعداد فاکتورهای خرید')),
                ('total_cash_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='تسویه نقدی')),
                ('total_card_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='تسویه کارتی')),
                ('total_bank_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='تسویه بانکی')),
                ('total_cheque_settled', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='تسویه چک')),
                ('balance', models.DecimalField(decimal_places=0, default=0, max_digits=20, verbose_name='مانده حساب')),
                ('last_transaction_date', django_jalali.db.models.jDateField(verbose_name='تاریخ آخرین تراکنش')),
                ('customer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.customer', verbose_name='شخص')),
                ('report', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='details', to='products.accountingreport', verbose_name='گزارش مربوطه')),
            ],
            options={
                'verbose_name': 'جزئیات گزارش حسابداری',
                'verbose_name_plural': 'جزئیات گزارشات حسابداری',
                'ordering': ['-balance', 'customer__last_name'],
            },
        ),
        migrations.CreateModel(
            name='AccountGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(choices=[('1000', 'دارایی\u200cهای جاری'), ('1100', 'موجودی نقد'), ('1200', 'سرمایه\u200cگذاری\u200cهای کوتاه\u200cمدت'), ('1300', 'حساب\u200cها و اسناد دریافتنی'), ('1400', 'موجودی کالا'), ('1500', 'پیش\u200cپرداخت\u200cها'), ('1600', 'دارایی\u200cهای ثابت'), ('1700', 'سرمایه\u200cگذاری\u200cهای بلندمدت'), ('1800', 'دارایی\u200cهای نامشهود'), ('2000', 'بدهی\u200cهای جاری'), ('2100', 'حساب\u200cها و اسناد پرداختنی'), ('2200', 'پیش\u200cدریافت\u200cها'), ('2300', 'ذخایر'), ('2400', 'بدهی\u200cهای بلندمدت'), ('3000', 'سرمایه'), ('3100', 'سرمایه\u200cگذاری\u200cهای صاحبان سهام'), ('3200', 'سود انباشته'), ('3300', 'سود سال جاری'), ('4000', 'درآمدهای عملیاتی'), ('4100', 'فروش کالا'), ('4200', 'فروش خدمات'), ('4300', 'درآمدهای غیرعملیاتی'), ('4400', 'سود سرمایه\u200cگذاری\u200cها'), ('5000', 'هزینه\u200cهای عملیاتی'), ('5100', 'بهای تمام شده کالای فروش رفته'), ('5200', 'هزینه\u200cهای فروش'), ('5300', 'هزینه\u200cهای اداری'), ('5400', 'هزینه\u200cهای مالی'), ('5500', 'هزینه\u200cهای غیرعملیاتی')], max_length=10, unique=True, verbose_name='کد گروه')),
                ('name', models.CharField(max_length=100, verbose_name='نام گروه')),
                ('type', models.CharField(choices=[('ASSET', 'دارایی'), ('LIABILITY', 'بدهی'), ('EQUITY', 'سرمایه'), ('REVENUE', 'درآمد'), ('EXPENSE', 'هزینه')], max_length=20, verbose_name='نوع حساب')),
                ('description', models.TextField(blank=True, null=True, verbose_name='توضیحات')),
                ('is_active', models.BooleanField(default=True, verbose_name='فعال')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاریخ ایجاد')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاریخ ویرایش')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.accountgroup', verbose_name='گروه والد')),
            ],
            options={
                'verbose_name': 'گروه حساب',
                'verbose_name_plural': 'گروه\u200cهای حساب',
                'ordering': ['code'],
            },
        ),
        migrations.AddField(
            model_name='account',
            name='currency',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.currency', verbose_name='ارز'),
        ),
        migrations.AddField(
            model_name='account',
            name='group',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='products.accountgroup', verbose_name='گروه حساب'),
        ),
        migrations.AddField(
            model_name='account',
            name='parent',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='products.account', verbose_name='حساب والد'),
        ),
        migrations.AddConstraint(
            model_name='shipment',
            constraint=models.UniqueConstraint(fields=('order',), name='unique_order_shipment'),
        ),
        migrations.AddIndex(
            model_name='receivedchequeaudittrail',
            index=models.Index(fields=['cheque', 'operation_date'], name='products_re_cheque__96157b_idx'),
        ),
        migrations.AddIndex(
            model_name='receivedchequeaudittrail',
            index=models.Index(fields=['operation', 'operation_date'], name='products_re_operati_afc865_idx'),
        ),
        migrations.AddIndex(
            model_name='receivedchequeaudittrail',
            index=models.Index(fields=['performed_by', 'operation_date'], name='products_re_perform_7f961b_idx'),
        ),
        migrations.AddConstraint(
            model_name='order',
            constraint=models.UniqueConstraint(condition=models.Q(('document_number__isnull', False), models.Q(('document_number', ''), _negated=True)), fields=('document_number',), name='unique_document_number'),
        ),
        migrations.AddIndex(
            model_name='documentnumber',
            index=models.Index(fields=['document_type', 'content_type', 'object_id'], name='products_do_documen_d41f37_idx'),
        ),
        migrations.AddIndex(
            model_name='documentnumber',
            index=models.Index(fields=['document_number'], name='products_do_documen_b357b9_idx'),
        ),
        migrations.AddIndex(
            model_name='documentnumber',
            index=models.Index(fields=['created_at'], name='products_do_created_ec3ed5_idx'),
        ),
        migrations.AddConstraint(
            model_name='documentnumber',
            constraint=models.UniqueConstraint(fields=('content_type', 'object_id'), name='unique_document_reference'),
        ),
        migrations.AddConstraint(
            model_name='check',
            constraint=models.UniqueConstraint(condition=models.Q(('checkbook__isnull', False)), fields=('checkbook', 'number'), name='unique_issued_check'),
        ),
        migrations.AlterUniqueTogether(
            name='bankaccount',
            unique_together={('bank', 'account_number')},
        ),
    ]
